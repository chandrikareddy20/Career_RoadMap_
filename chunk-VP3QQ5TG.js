import{a as H,b as ne}from"./chunk-FM5CNWU4.js";import{a as ee}from"./chunk-CGK5RUJI.js";import{a as G,b as J,e as K,g as X,o as Z}from"./chunk-YRCHNDR3.js";import{d as B,f as $}from"./chunk-LO62QPBT.js";import{a as te}from"./chunk-CYP52INL.js";import{$a as F,Ca as E,Eb as D,Fb as U,Ga as h,Gb as Y,I as T,Na as p,Oa as a,Pa as r,Qa as Q,S as w,T as C,Ta as O,Ua as z,Va as m,Za as R,bb as l,cb as I,db as S,eb as q,gb as j,hb as L,ib as W,jb as V,nb as M,qa as c,rb as N,ya as P}from"./chunk-3A7RIER7.js";var k=class o{exampleQuizzes={};constructor(){this.exampleQuizzes["example-1"]={id:"example-1",name:"Example Roadmap Quiz",questions:[{question:"What is the main focus of this roadmap?",options:["Core skills","Gardening","Cooking","Dancing"],correctIndex:0,explanation:"This roadmap focuses on core, project-ready skills."},{question:"Which resource helps most?",options:["Hands-on projects","Horoscopes","TV shows","Comics"],correctIndex:0,explanation:"Hands-on projects help you practice and retain skills."},{question:"Good next step after finishing?",options:["Build a small project","Ignore it","Publish a novel","Travel"],correctIndex:0,explanation:"Building a small project consolidates learning and creates portfolio evidence."}]}}getTopicQuestionsForSkill(t){return this.getTopicQuestions(t)}getTopicQuestions(t){let e=t.toLowerCase(),n=[];e.includes("python")&&n.push({question:"What is the primary use case for Python in data science?",options:["Data analysis and machine learning","Only web development","Only game development","Only mobile apps"],correctIndex:0,explanation:"Python is widely used in data science for data analysis, machine learning, and scientific computing due to libraries like Pandas, NumPy, and scikit-learn."},{question:"Which Python library is most commonly used for data manipulation?",options:["Pandas","Django","Flask","PyGame"],correctIndex:0,explanation:"Pandas is the go-to library for data manipulation and analysis in Python."},{question:"What is a Python list comprehension?",options:["A concise way to create lists","A type of loop","A function","A class"],correctIndex:0,explanation:"List comprehensions provide a concise way to create lists based on existing lists or iterables."},{question:"Which of these is NOT a Python data structure?",options:["Array (in traditional sense)","List","Dictionary","Tuple"],correctIndex:0,explanation:"Python uses lists instead of traditional arrays, though NumPy arrays exist for numerical computing."}),(e.includes("machine learning")||e.includes("ml")||e.includes("deep learning"))&&n.push({question:"What is the difference between supervised and unsupervised learning?",options:["Supervised uses labeled data, unsupervised uses unlabeled data","They are the same","Supervised is faster","Unsupervised requires more data"],correctIndex:0,explanation:"Supervised learning uses labeled training data, while unsupervised learning finds patterns in unlabeled data."},{question:"What is overfitting in machine learning?",options:["Model performs well on training data but poorly on new data","Model is too simple","Model uses too much data","Model is too fast"],correctIndex:0,explanation:"Overfitting occurs when a model learns the training data too well, including noise, and fails to generalize to new data."},{question:"Which algorithm is commonly used for classification tasks?",options:["Random Forest","Only linear regression","Only clustering","Only neural networks"],correctIndex:0,explanation:"Random Forest is a versatile algorithm that works well for both classification and regression tasks."},{question:"What is cross-validation used for?",options:["To assess model performance and prevent overfitting","To speed up training","To reduce data size","To visualize data"],correctIndex:0,explanation:"Cross-validation helps evaluate model performance and detect overfitting by testing on different subsets of data."}),(e.includes("html")||e.includes("css")||e.includes("javascript")||e.includes("react")||e.includes("angular")||e.includes("web"))&&n.push({question:"What does CSS stand for?",options:["Cascading Style Sheets","Computer Style Sheets","Creative Style System","Coded Style Syntax"],correctIndex:0,explanation:"CSS stands for Cascading Style Sheets, used to style HTML elements."},{question:"What is the purpose of JavaScript in web development?",options:["To add interactivity and dynamic behavior to web pages","Only for styling","Only for structure","Only for databases"],correctIndex:0,explanation:"JavaScript is used to add interactivity, handle events, and create dynamic content on web pages."},{question:"What is a React component?",options:["A reusable piece of UI code","A database table","A CSS file","A server endpoint"],correctIndex:0,explanation:"React components are reusable pieces of code that return JSX to render UI elements."},{question:"What is the Document Object Model (DOM)?",options:["A programming interface for HTML and XML documents","A database","A CSS framework","A JavaScript library"],correctIndex:0,explanation:"The DOM is a programming interface that represents the structure of HTML/XML documents as a tree of objects."}),(e.includes("sql")||e.includes("database")||e.includes("nosql"))&&n.push({question:"What does SQL stand for?",options:["Structured Query Language","Simple Query Language","Standard Query Logic","System Query Language"],correctIndex:0,explanation:"SQL stands for Structured Query Language, used to manage and query relational databases."},{question:"What is a primary key in a database?",options:["A unique identifier for each row in a table","A foreign key","A column name","A table name"],correctIndex:0,explanation:"A primary key uniquely identifies each row in a database table and cannot be null."},{question:"What is the difference between SQL and NoSQL databases?",options:["SQL is relational, NoSQL is non-relational","They are identical","SQL is faster","NoSQL is older"],correctIndex:0,explanation:"SQL databases use structured, relational schemas, while NoSQL databases use flexible, non-relational data models."},{question:"What is normalization in database design?",options:["Organizing data to reduce redundancy and improve integrity","Making databases faster","Adding more tables","Removing all indexes"],correctIndex:0,explanation:"Normalization is the process of organizing data in a database to eliminate redundancy and ensure data integrity."}),(e.includes("cloud")||e.includes("aws")||e.includes("azure")||e.includes("docker")||e.includes("kubernetes")||e.includes("devops"))&&n.push({question:"What is Docker used for?",options:["Containerizing applications for consistent deployment","Only for databases","Only for web servers","Only for mobile apps"],correctIndex:0,explanation:"Docker is a platform for containerizing applications, making them portable and consistent across environments."},{question:"What is the main benefit of cloud computing?",options:["Scalability and cost-effectiveness","Only security","Only speed","Only storage"],correctIndex:0,explanation:"Cloud computing provides scalability, cost-effectiveness, and flexibility in resource management."},{question:"What is Kubernetes used for?",options:["Orchestrating containerized applications","Only for databases","Only for web development","Only for machine learning"],correctIndex:0,explanation:"Kubernetes is an orchestration platform for managing containerized applications at scale."},{question:"What is Infrastructure as Code (IaC)?",options:["Managing infrastructure through code and configuration files","Writing code in infrastructure","Building physical servers","Manual server setup"],correctIndex:0,explanation:"IaC allows you to define and manage infrastructure using code, enabling version control and automation."}),(e.includes("security")||e.includes("cyber")||e.includes("penetration")||e.includes("network security"))&&n.push({question:"What is encryption used for?",options:["Protecting data by converting it to unreadable format","Making data faster","Compressing data","Deleting data"],correctIndex:0,explanation:"Encryption converts data into a secure format that can only be read by authorized parties with the decryption key."},{question:"What is a firewall?",options:["A network security device that monitors and controls traffic","A database","A web server","A programming language"],correctIndex:0,explanation:"A firewall is a security device that monitors and filters network traffic based on security rules."},{question:"What is SQL injection?",options:["A security vulnerability where malicious SQL code is inserted","A database feature","A query optimization","A backup method"],correctIndex:0,explanation:"SQL injection is an attack where malicious SQL code is inserted into input fields to manipulate databases."},{question:"What is two-factor authentication (2FA)?",options:["A security method requiring two forms of verification","A single password","A firewall","An encryption method"],correctIndex:0,explanation:"2FA requires users to provide two different authentication factors to verify their identity."}),n.length===0&&n.push({question:`What is the primary purpose of learning ${t}?`,options:["To apply it in real-world projects and solve problems","Only for exams","Only for theory","Only for certificates"],correctIndex:0,explanation:`Learning ${t} should focus on practical application to solve real-world problems and build projects.`},{question:`Which learning method is most effective for ${t}?`,options:["Hands-on practice and building projects","Only reading documentation","Only watching videos","Only taking notes"],correctIndex:0,explanation:"Hands-on practice and building projects help reinforce learning and develop practical skills."},{question:`What is a good next step after learning ${t}?`,options:["Build a project to apply the knowledge","Forget everything","Only read more theory","Stop learning"],correctIndex:0,explanation:"Building projects helps consolidate learning and creates a portfolio of your skills."},{question:`How do you measure proficiency in ${t}?`,options:["By successfully completing projects and solving problems","By reading speed","By number of courses taken","By time spent studying"],correctIndex:0,explanation:"Proficiency is best measured by your ability to apply knowledge in practical projects and solve real problems."});let i=[{question:"What is version control used for?",options:["Tracking changes in code and collaborating","Only for backups","Only for deployment","Only for testing"],correctIndex:0,explanation:"Version control systems like Git help track code changes, collaborate with teams, and manage project history."},{question:"What is the importance of code documentation?",options:["Helps others understand and maintain code","Only for beginners","Only for comments","Not important"],correctIndex:0,explanation:"Good documentation makes code maintainable, helps team collaboration, and explains complex logic."},{question:"What is the difference between frontend and backend development?",options:["Frontend is user interface, backend is server-side logic","They are the same","Frontend is faster","Backend is easier"],correctIndex:0,explanation:"Frontend handles what users see and interact with, while backend handles server logic, databases, and APIs."},{question:"What is an API?",options:["Application Programming Interface - allows applications to communicate","A database","A programming language","A web framework"],correctIndex:0,explanation:"An API (Application Programming Interface) defines how different software components should interact and communicate."},{question:"What is the importance of testing in software development?",options:["Ensures code quality and catches bugs early","Only slows down development","Only for large projects","Not necessary"],correctIndex:0,explanation:"Testing helps ensure code quality, catch bugs early, and maintain reliable software."}],s=[...n,...i];s.forEach(d=>{let b=d.options[d.correctIndex],f=[...d.options];for(let v=f.length-1;v>0;v--){let u=Math.floor(Math.random()*(v+1));[f[v],f[u]]=[f[u],f[v]]}d.correctIndex=f.indexOf(b),d.options=f});for(let d=s.length-1;d>0;d--){let b=Math.floor(Math.random()*(d+1));[s[d],s[b]]=[s[b],s[d]]}return s.slice(0,Math.min(10,Math.max(9,s.length)))}getQuizForRoadmap(t,e){if(!t)return null;if(this.exampleQuizzes[t])return this.exampleQuizzes[t];try{let n=[];if(e)n=e;else try{n=JSON.parse(localStorage.getItem("savedRoadmaps")||"[]")}catch{n=[]}let i=n.find(u=>u.id===t);if(!i)return null;let s=[];for(let u of i.roadmapLevels||[])for(let g of u.skills||[])typeof g=="string"?s.push(g):g&&g.name&&s.push(g.name);let d=Array.from(new Set(s));if(d.length===0){let u=this.getTopicQuestions("General Programming");return u.forEach(g=>{let _=g.options[g.correctIndex],x=[...g.options];for(let y=x.length-1;y>0;y--){let A=Math.floor(Math.random()*(y+1));[x[y],x[A]]=[x[A],x[y]]}g.correctIndex=x.indexOf(_),g.options=x}),{id:t,name:i.name||"Roadmap Quiz",questions:u}}let b=d[0],f=this.getTopicQuestions(b);if(f.length<9&&d.length>1)for(let u=1;u<d.length&&f.length<10;u++){let g=this.getTopicQuestions(d[u]);f.push(...g.slice(0,10-f.length))}let v=f.length>=9?f.slice(0,10):f;return v.forEach(u=>{let g=u.options[u.correctIndex],_=[...u.options];for(let x=_.length-1;x>0;x--){let y=Math.floor(Math.random()*(x+1));[_[x],_[y]]=[_[y],_[x]]}u.correctIndex=_.indexOf(g),u.options=_}),{id:t,name:i.name||"Roadmap Quiz",questions:v}}catch{return null}}static \u0275fac=function(e){return new(e||o)};static \u0275prov=T({token:o,factory:o.\u0275fac,providedIn:"root"})};var ae=(o,t)=>({"answer-correct":o,"answer-wrong":t}),se=(o,t)=>({"correct-answer-bg":o,"wrong-answer-bg":t}),ce=(o,t)=>({"text-correct":o,"text-wrong":t}),le=(o,t)=>({correct:o,wrong:t}),de=(o,t)=>({"timer-warning":o,"timer-danger":t});function pe(o,t){if(o&1&&(a(0,"div",27)(1,"strong"),l(2,"Correct answer:"),r(),a(3,"span",28),l(4),r()()),o&2){let e=m().$implicit;c(4),I(e.options[e.correctIndex])}}function ue(o,t){if(o&1&&(a(0,"div",29),l(1),r()),o&2){let e=m().$implicit;c(),I(e.explanation)}}function fe(o,t){if(o&1&&(a(0,"div",19)(1,"div",20),l(2),r(),a(3,"div",21)(4,"div",22)(5,"strong"),l(6,"Your answer:"),r(),Q(7,"span",23),a(8,"span",24),l(9),r()(),h(10,pe,5,1,"div",25),r(),h(11,ue,2,1,"div",26),r()),o&2){let e=t.$implicit,n=t.index,i=m(3);p("ngClass",M(10,ae,i.userAnswers[n]===e.correctIndex,i.userAnswers[n]!==e.correctIndex&&i.userAnswers[n]>=0)),c(2),q("",n+1,". ",e.question),c(2),p("ngClass",M(13,se,i.userAnswers[n]===e.correctIndex,i.userAnswers[n]!==e.correctIndex&&i.userAnswers[n]>=0)),c(3),p("innerText",e.options[i.userAnswers[n]]||"No answer")("ngClass",M(16,ce,i.userAnswers[n]===e.correctIndex,i.userAnswers[n]!==e.correctIndex&&i.userAnswers[n]>=0)),c(),p("ngClass",M(19,le,i.userAnswers[n]===e.correctIndex,i.userAnswers[n]!==e.correctIndex&&i.userAnswers[n]>=0)),c(),S(" ",i.userAnswers[n]===e.correctIndex?"\u2714\uFE0F":"\u2716\uFE0F"," "),c(),p("ngIf",i.userAnswers[n]!==e.correctIndex&&i.userAnswers[n]>=0),c(),p("ngIf",e.explanation)}}function me(o,t){if(o&1){let e=O();a(0,"div",9)(1,"div",10)(2,"div",11)(3,"div")(4,"p",5),l(5,"Your Score"),r(),a(6,"div",12),l(7),r()(),a(8,"div",13)(9,"p",5),l(10,"Time Taken"),r(),a(11,"div",14),l(12),r()()(),a(13,"div",15),h(14,fe,12,22,"div",16),r(),a(15,"div",17)(16,"button",18),z("click",function(){w(e);let i=m(2);return C(i.back())}),l(17,"Continue"),r()()()()}if(o&2){let e=m(2);c(7),S("",e.score,"%"),c(5),I(e.formattedTime),c(2),p("ngForOf",e.quiz.questions)}}function ge(o,t){if(o&1){let e=O();a(0,"label",50)(1,"input",51),W("ngModelChange",function(i){w(e);let s=m(4);return L(s.userAnswers[s.currentIndex],i)||(s.userAnswers[s.currentIndex]=i),C(i)}),r(),a(2,"span",52),l(3),r()()}if(o&2){let e=t.$implicit,n=t.index,i=m(4);c(),p("name",V("q-",i.currentIndex))("value",n),j("ngModel",i.userAnswers[i.currentIndex]),c(2),I(e)}}function xe(o,t){if(o&1){let e=O();a(0,"button",53),z("click",function(){let i=w(e).index,s=m(4);return C(s.goToQuestion(i))}),l(1),r()}if(o&2){let e=t.index,n=m(4);F("active",n.currentIndex===e)("answered",n.isQuestionAnswered(e))("unanswered",!n.isQuestionAnswered(e)),p("title","Question "+(e+1)+(n.isQuestionAnswered(e)?" (Answered)":" (Not answered)")),c(),S(" ",e+1," ")}}function he(o,t){if(o&1){let e=O();a(0,"button",54),z("click",function(){w(e);let i=m(4);return C(i.onPrevious())}),l(1," \u2190 Previous "),r()}if(o&2){let e=m(4);p("disabled",e.currentIndex===0)}}function be(o,t){if(o&1){let e=O();a(0,"button",18),z("click",function(){w(e);let i=m(4);return C(i.onNext())}),l(1," Next Question \u2192 "),r()}}function _e(o,t){if(o&1){let e=O();a(0,"button",18),z("click",function(){w(e);let i=m(4);return C(i.viewResults())}),l(1," View Results "),r()}}function ve(o,t){o&1&&(a(0,"div",55)(1,"span",56),l(2,"\u26A0\uFE0F"),r(),a(3,"span",57),l(4,"You have unanswered questions. Use the question numbers above to review them before submitting."),r()())}function ye(o,t){if(o&1&&(a(0,"div",37)(1,"div",20),l(2),r(),a(3,"div",38),h(4,ge,4,5,"label",39),r(),a(5,"div",40)(6,"div",41)(7,"span",42),l(8,"Navigate to:"),r()(),a(9,"div",43),h(10,xe,2,8,"button",44),r()(),a(11,"div",45),h(12,he,2,1,"button",46),Q(13,"div",47),h(14,be,2,0,"button",48)(15,_e,2,0,"button",48),r(),h(16,ve,5,0,"div",49),r()),o&2){let e=t.ngIf,n=m(3);c(2),q("",n.currentIndex+1,". ",e.question),c(2),p("ngForOf",e.options),c(6),p("ngForOf",n.quiz.questions),c(2),p("ngIf",n.currentIndex>0),c(2),p("ngIf",n.currentIndex<n.quiz.questions.length-1),c(),p("ngIf",n.currentIndex===n.quiz.questions.length-1),c(),p("ngIf",n.hasUnansweredQuestions()&&n.currentIndex===n.quiz.questions.length-1)}}function we(o,t){if(o&1&&(a(0,"div",9)(1,"div",30)(2,"div",31),l(3),r(),a(4,"div",32)(5,"div",33)(6,"span",34),l(7,"\u23F1\uFE0F"),r(),a(8,"span",35),l(9),r()()()(),h(10,ye,17,8,"div",36),r()),o&2){let e=m(2);c(3),q("Question ",e.currentIndex+1," of ",e.quiz.questions.length),c(2),p("ngClass",M(5,de,e.timeRemaining<=10,e.timeRemaining<=5)),c(4),I(e.formattedCountdown),c(),p("ngIf",e.quiz.questions[e.currentIndex])}}function Ce(o,t){if(o&1&&(a(0,"div"),h(1,me,18,3,"div",8)(2,we,11,8,"div",8),r()),o&2){let e=m();c(),p("ngIf",e.showResults),c(),p("ngIf",!e.showResults)}}function Pe(o,t){o&1&&(a(0,"div",58)(1,"p"),l(2,"No quiz available for this roadmap."),r()())}var ie=class o{constructor(t,e,n,i,s,d,b){this.route=t;this.router=e;this.quizService=n;this.userStorage=i;this.quizProtection=s;this.notificationService=d;this.loadingService=b}roadmapId="";quiz=null;userAnswers=[];score=null;attempted=!1;validated=!1;focusedSkill=null;currentIndex=0;showResults=!1;elapsedTime=0;timerInterval=null;formattedTime="00:00";timeLimit=120;timeRemaining=120;countdownInterval=null;formattedCountdown="02:00";isTimeUp=!1;ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("roadmapId")||"";this.roadmapId=e,this.route.queryParams.subscribe(n=>{let i=n.skill;if(this.focusedSkill=i||null,i){let s=this.quizService.getTopicQuestionsForSkill(i);this.quiz={id:`${e}:${i}`,name:`${i} Quiz`,questions:s},this.userAnswers=this.quiz.questions.map(()=>-1),this.score=null,this.attempted=!1,this.startQuiz()}else this.loadQuiz()})})}loadQuiz(){let t=this.userStorage.getSavedRoadmaps();this.quiz=this.quizService.getQuizForRoadmap(this.roadmapId,t),this.quiz&&(this.userAnswers=this.quiz.questions.map(()=>-1),this.score=null,this.attempted=!1,this.startQuiz())}startQuiz(){this.currentIndex=0,this.showResults=!1,this.isTimeUp=!1,this.startTimer(),this.startCountdown();try{this.quizProtection.startProtection(t=>this.handleProtectionViolation(t))}catch{}}startTimer(){this.elapsedTime=0,this.updateFormattedTime(),this.timerInterval=setInterval(()=>{this.elapsedTime++,this.updateFormattedTime()},1e3)}startCountdown(){this.timeRemaining=this.timeLimit,this.updateFormattedCountdown(),this.countdownInterval=setInterval(()=>{this.timeRemaining--,this.updateFormattedCountdown(),this.timeRemaining<=0&&this.handleTimeUp()},1e3)}handleTimeUp(){this.isTimeUp=!0,this.stopCountdown(),this.stopTimer(),this.showResults||this.viewResults()}stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}stopCountdown(){this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null)}updateFormattedTime(){let t=Math.floor(this.elapsedTime/60),e=this.elapsedTime%60;this.formattedTime=`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}updateFormattedCountdown(){let t=Math.floor(this.timeRemaining/60),e=this.timeRemaining%60;this.formattedCountdown=`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}ngOnDestroy(){this.stopTimer(),this.stopCountdown();try{this.quizProtection.stopProtection()}catch{}}handleProtectionViolation(t){this.stopTimer(),this.stopCountdown();try{this.viewResults()}catch{}try{console.log("[QuizPage] Protection violation handler called with reason:",t)}catch{}let e="You left the quiz screen. Quiz ended due to security policy.";t==="TAB_SWITCH"?e="Security Alert: You switched the tab or moved away from the quiz window. According to our quiz security policy, leaving the quiz screen is not allowed. Your quiz has been automatically terminated.":t==="BACK_BUTTON"&&(e="You used the back button. Quiz ended due to security policy.");try{this.notificationService.error(e,1e4)}catch(n){try{console.error("[QuizPage] notification failed",n)}catch{}}try{this.quizProtection.stopProtection()}catch{}}back(){if(!this.showResults){this.handleProtectionViolation("LEAVE_SCREEN");return}this.stopTimer(),this.stopCountdown(),this.router.navigate(["/roadmap"],{queryParams:{savedId:this.roadmapId}})}allAnswered(){return this.userAnswers.every(t=>t>=0)}submit(){if(!this.quiz)return;this.stopTimer(),this.stopCountdown();let t=0;for(let e=0;e<this.quiz.questions.length;e++)Number(this.userAnswers[e])===this.quiz.questions[e].correctIndex&&t++;this.score=Math.round(t/this.quiz.questions.length*100),this.attempted=!0,this.showResults=!0,this.validated=!0,this.userStorage.addQuizAttempt({skill:this.quiz?.name||"unknown",roadmapId:this.roadmapId||null,score:this.score,timeElapsed:this.formattedTime,at:new Date().toISOString()});try{this.markSkillCompletedInSavedRoadmap()}catch{}}onNext(){this.quiz&&this.currentIndex<this.quiz.questions.length-1&&(this.currentIndex+=1)}onPrevious(){this.currentIndex>0&&this.currentIndex--}goToQuestion(t){this.quiz&&t>=0&&t<this.quiz.questions.length&&(this.currentIndex=t)}isQuestionAnswered(t){return this.userAnswers[t]>=0}hasUnansweredQuestions(){return this.userAnswers.some(t=>t<0)}viewResults(){if(!this.quiz)return;this.stopTimer(),this.stopCountdown();let t=0;for(let e=0;e<this.quiz.questions.length;e++)Number(this.userAnswers[e])===this.quiz.questions[e].correctIndex&&t++;this.score=Math.round(t/this.quiz.questions.length*100),this.attempted=!0,this.showResults=!0,this.validated=!0;try{this.userStorage.addQuizAttempt({skill:this.quiz?.name||"unknown",roadmapId:this.roadmapId||null,score:this.score,timeElapsed:this.formattedTime,at:new Date().toISOString()})}catch{}try{this.markSkillCompletedInSavedRoadmap()}catch{}}markSkillCompletedInSavedRoadmap(){let t=this.focusedSkill;if(!(!t||!this.roadmapId))try{let e=this.userStorage.getSavedRoadmaps(),n=e.find(s=>s.id===this.roadmapId);if(!n)return;let i=!1;for(let s of n.roadmapLevels||[])for(let d of s.skills||[])typeof d!="string"&&d.name===t&&(d.completed||(d.completed=!0,i=!0));if(i){let s=0,d=0;for(let b of n.roadmapLevels||[])for(let f of b.skills||[])typeof f!="string"&&(s++,f.completed&&d++);n.progress=s>0?Math.round(d/s*100):0,n.skillsCompleted=d,this.userStorage.setSavedRoadmaps(e),this.userStorage.setRoadmapSummary({careerTitle:n.name||n.careerTitle||"",progress:n.progress||0,skillsCompleted:n.skillsCompleted||0,estimatedTime:n.estimatedTime||""})}}catch{}}static \u0275fac=function(e){return new(e||o)(P(B),P($),P(k),P(te),P(H),P(ee),P(ne))};static \u0275cmp=E({type:o,selectors:[["app-quiz-page"]],decls:13,vars:4,consts:[["noQuiz",""],[1,"quiz-page"],[1,"header"],[1,"back-btn",3,"click"],[1,"header-content"],[1,"subtitle"],[1,"content"],[4,"ngIf","ngIfElse"],["class","card quiz-card",4,"ngIf"],[1,"card","quiz-card"],[1,"result-summary"],[1,"score-info"],[1,"score-large"],[1,"time-info"],[1,"time-display"],[1,"result-list",2,"margin-top","16px"],["class","result-item",3,"ngClass",4,"ngFor","ngForOf"],[2,"margin-top","24px","display","flex","justify-content","flex-end"],[1,"btn","primary",3,"click"],[1,"result-item",3,"ngClass"],[1,"q-title"],[1,"result-row"],[1,"user-answer",3,"ngClass"],[1,"answer-text",3,"innerText","ngClass"],[1,"result-icon",3,"ngClass"],["class","correct-answer-show",4,"ngIf"],["class","explain-text",4,"ngIf"],[1,"correct-answer-show"],[1,"correct-answer-text"],[1,"explain-text"],[1,"question-header"],[1,"q-meta"],[1,"timer-container"],[1,"timer-display",3,"ngClass"],[1,"timer-icon"],[1,"timer-text"],["class","question-block",4,"ngIf"],[1,"question-block"],[1,"q-options"],["class","option-label",4,"ngFor","ngForOf"],[1,"question-navigation"],[1,"nav-info"],[1,"nav-text"],[1,"question-numbers"],["class","question-number-btn",3,"active","answered","unanswered","title","click",4,"ngFor","ngForOf"],[1,"quiz-actions"],["class","btn secondary",3,"disabled","click",4,"ngIf"],[1,"action-spacer"],["class","btn primary",3,"click",4,"ngIf"],["class","unanswered-warning",4,"ngIf"],[1,"option-label"],["type","radio",3,"ngModelChange","name","value","ngModel"],[1,"opt-text"],[1,"question-number-btn",3,"click","title"],[1,"btn","secondary",3,"click","disabled"],[1,"unanswered-warning"],[1,"warning-icon"],[1,"warning-text"],[1,"card"]],template:function(e,n){if(e&1){let i=O();a(0,"div",1)(1,"div",2)(2,"button",3),z("click",function(){return w(i),C(n.back())}),l(3,"\u2190"),r(),a(4,"div",4)(5,"h1"),l(6,"Quiz"),r(),a(7,"div",5),l(8),r()()(),a(9,"div",6),h(10,Ce,3,2,"div",7)(11,Pe,3,0,"ng-template",null,0,N),r()()}if(e&2){let i=R(12);c(8),q("",(n.quiz==null?null:n.quiz.name)||"Quiz"," \u2014 Roadmap: ",n.roadmapId),c(2),p("ngIf",n.quiz)("ngIfElse",i)}},dependencies:[Y,U,D,Z,G,X,J,K],styles:[".quiz-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#071b2e,#0e2a47);color:#fff;font-family:Poppins,sans-serif;padding:40px}.header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:20px;margin-bottom:30px}.back-btn[_ngcontent-%COMP%]{background:transparent;border:2px solid white;border-radius:8px;color:#fff;font-size:24px;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:8px}.subtitle[_ngcontent-%COMP%]{font-size:16px;color:#a9b7c9}.content[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:flex;flex-direction:column;gap:24px}.card[_ngcontent-%COMP%]{background:#0f2138;border-radius:18px;padding:32px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid #162E4A;transition:all .3s cubic-bezier(.4,0,.2,1)}@media(hover:hover)and (pointer:fine){.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #2e6bff40;border:3px solid rgba(46,107,255,.6)}}.quiz-card[_ngcontent-%COMP%]{padding:32px}.completion-card[_ngcontent-%COMP%]{background:#0f2138;color:#fff;border-radius:14px;padding:22px;box-shadow:0 6px 18px #00000080;border:1px solid #162E4A}.completion-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.success-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:#e6f6ea;color:#2e8c3a;display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:0 4px 10px #0000000a}.completion-title[_ngcontent-%COMP%]{font-size:20px;font-weight:800}.completion-body[_ngcontent-%COMP%]{margin-top:14px;display:flex;flex-direction:column;gap:10px}.completion-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-weight:700;color:#fff}.completion-check[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#4caf50}.validation-msg[_ngcontent-%COMP%]{font-size:14px;color:#ffffffe6;opacity:.9}.completion-actions[_ngcontent-%COMP%]{margin-top:14px}.completion-actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{background:#2e6bff;color:#fff;border:none;padding:14px 28px;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;gap:10px;font-family:Poppins,sans-serif;box-shadow:0 4px 12px #2e6bff59;white-space:nowrap}.completion-actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]:hover{background:#2558d8;box-shadow:0 6px 18px #2e6bff73;transform:translateY(-2px)}.completion-actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #2e6bff4d}.result-summary[_ngcontent-%COMP%]{color:#eaf2ff}.q-title[_ngcontent-%COMP%]{font-weight:800;margin-bottom:12px;color:#eaf2ff;font-size:18px}.q-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.option-label[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;color:#eaf2ff;font-size:15px;padding:10px;border-radius:10px;background:linear-gradient(180deg,#ffffff05,#ffffff03);border:1px solid rgba(255,255,255,.03);transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}@media(hover:hover)and (pointer:fine){.option-label[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#2e6bff1a,#2e6bff0d);border:2px solid rgba(46,107,255,.4);transform:translateY(-2px);box-shadow:0 4px 12px #2e6bff33}}.opt-text[_ngcontent-%COMP%]{font-size:15px}.quiz-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-top:20px;justify-content:space-between}.action-spacer[_ngcontent-%COMP%]{flex:1}.quiz-result[_ngcontent-%COMP%]{font-weight:700;color:#d6f6e0}.btn.primary[_ngcontent-%COMP%]{background:#2e6bff;color:#fff;padding:14px 28px;border-radius:10px;border:none;cursor:pointer;font-weight:600;font-size:16px;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;gap:10px;font-family:Poppins,sans-serif;box-shadow:0 4px 12px #2e6bff59;white-space:nowrap}.btn.primary[_ngcontent-%COMP%]:hover{background:#2558d8;box-shadow:0 6px 18px #2e6bff73;transform:translateY(-2px)}.btn.primary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #2e6bff4d}.btn.secondary[_ngcontent-%COMP%]{background:transparent;border:2px solid rgba(255,255,255,.14);color:#fff;padding:10px 20px;border-radius:10px;cursor:pointer;font-weight:600;display:inline-flex;align-items:center;gap:8px;font-size:14px;transition:all .3s ease}.btn.secondary[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:#ffffff4d;transform:translateY(-1px)}.btn.secondary[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.question-navigation[_ngcontent-%COMP%]{margin-top:24px;padding:16px;background:#ffffff08;border-radius:12px;border:1px solid rgba(255,255,255,.1)}.nav-info[_ngcontent-%COMP%]{margin-bottom:12px}.nav-text[_ngcontent-%COMP%]{font-size:13px;color:#a9b7c9;font-weight:600}.question-numbers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.question-number-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:2px solid rgba(255,255,255,.2);background:#ffffff0d;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.question-number-btn[_ngcontent-%COMP%]:hover{background:#2e6bff33;border-color:#2e6bff66;transform:translateY(-2px)}.question-number-btn.active[_ngcontent-%COMP%]{background:#2e6bff;border-color:#2e6bff;box-shadow:0 0 12px #2e6bff80}.question-number-btn.answered[_ngcontent-%COMP%]{background:#39d35333;border-color:#39d35366}.question-number-btn.answered.active[_ngcontent-%COMP%]{background:#39d353;border-color:#39d353}.question-number-btn.unanswered[_ngcontent-%COMP%]{border-color:#ffffff1a;opacity:.7}.unanswered-warning[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;background:#ffc1071a;border:1px solid rgba(255,193,7,.3);border-radius:8px;display:flex;align-items:center;gap:10px}.warning-icon[_ngcontent-%COMP%]{font-size:18px}.warning-text[_ngcontent-%COMP%]{font-size:13px;color:#ffc107;font-weight:500}@media(max-width:768px){.quiz-page[_ngcontent-%COMP%]{padding:20px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.content[_ngcontent-%COMP%]{max-width:100%}.question-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.timer-display[_ngcontent-%COMP%]{align-self:flex-end}.score-info[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.time-info[_ngcontent-%COMP%]{text-align:left}}.feedback-icon[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;display:inline-flex;align-items:center}.feedback-icon[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{color:#4caf50}.feedback-icon[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{color:#f44336}.correct-explanation[_ngcontent-%COMP%]{margin-top:10px;background:#ffffff0a;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.03);color:#e6eefc;font-size:14px}.correct-explanation[_ngcontent-%COMP%]   .explain-text[_ngcontent-%COMP%]{margin-top:6px;opacity:.95}.question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px}.q-meta[_ngcontent-%COMP%]{opacity:.9;font-weight:700}.timer-container[_ngcontent-%COMP%]{display:flex;align-items:center}.timer-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#ffffff1a;border-radius:8px;border:1px solid rgba(255,255,255,.2);transition:all .3s ease}.timer-display.timer-warning[_ngcontent-%COMP%]{background:#ffc10733;border-color:#ffc10766;animation:_ngcontent-%COMP%_pulse-warning 1s infinite}.timer-display.timer-danger[_ngcontent-%COMP%]{background:#f4433633;border-color:#f4433666;animation:_ngcontent-%COMP%_pulse-danger .5s infinite}@keyframes _ngcontent-%COMP%_pulse-warning{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_pulse-danger{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.timer-icon[_ngcontent-%COMP%]{font-size:18px}.timer-text[_ngcontent-%COMP%]{font-size:16px;font-weight:700;font-family:Courier New,monospace;color:#fff;min-width:50px}.timer-warning[_ngcontent-%COMP%]   .timer-text[_ngcontent-%COMP%]{color:#ffc107}.timer-danger[_ngcontent-%COMP%]   .timer-text[_ngcontent-%COMP%]{color:#f44336}.time-up-msg[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.question-block[_ngcontent-%COMP%]{margin-top:12px}.score-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:40px;margin-bottom:20px}.score-large[_ngcontent-%COMP%]{font-size:48px;font-weight:900;color:#d6f6e0;margin-top:8px}.time-info[_ngcontent-%COMP%]{text-align:right}.time-display[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#4caf50;font-family:Courier New,monospace;margin-top:8px}.unanswered[_ngcontent-%COMP%]{color:#f44336;font-weight:700;margin-top:8px}input[type=radio][disabled][_ngcontent-%COMP%] + .opt-text[_ngcontent-%COMP%]{opacity:.7}.result-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.result-item[_ngcontent-%COMP%]{padding:16px;background:#ffffff05;border-radius:10px;border:1px solid rgba(255,255,255,.03);transition:all .3s ease}.result-item.answer-correct[_ngcontent-%COMP%]{background:#4caf5026;border:1px solid rgba(76,175,80,.3)}.result-item.answer-wrong[_ngcontent-%COMP%]{background:#f4433626;border:1px solid rgba(244,67,54,.3)}.result-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-top:8px}.result-icon.correct[_ngcontent-%COMP%]{color:#4caf50;margin-left:8px;font-size:18px}.result-icon.wrong[_ngcontent-%COMP%]{color:#f44336;margin-left:8px;font-size:18px}.user-answer[_ngcontent-%COMP%]{padding:10px 12px;border-radius:8px;display:flex;align-items:center;gap:8px}.user-answer.correct-answer-bg[_ngcontent-%COMP%]{background:#4caf5033;border:1px solid rgba(76,175,80,.4)}.user-answer.wrong-answer-bg[_ngcontent-%COMP%]{background:#f4433633;border:1px solid rgba(244,67,54,.4)}.answer-text[_ngcontent-%COMP%]{margin-left:8px;flex:1}.answer-text.text-correct[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.answer-text.text-wrong[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.correct-answer-show[_ngcontent-%COMP%]{margin-top:8px;padding:10px 12px;background:#4caf501a;border-radius:8px;border-left:3px solid #4caf50}.correct-answer-text[_ngcontent-%COMP%]{color:#4caf50;font-weight:600;margin-left:8px}"]})};export{ie as QuizPageComponent};
