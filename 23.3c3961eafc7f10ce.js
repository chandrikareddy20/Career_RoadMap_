"use strict";(self.webpackChunkRoadMap=self.webpackChunkRoadMap||[]).push([[23],{5023(I,O,m){m.d(O,{QuizPageComponent:()=>B});var C=m(9769),w=m(4341),e=m(5547),f=m(375),s=m(9635);let d=(()=>{class i{exampleQuizzes={};constructor(){this.exampleQuizzes["example-1"]={id:"example-1",name:"Example Roadmap Quiz",questions:[{question:"What is the main focus of this roadmap?",options:["Core skills","Gardening","Cooking","Dancing"],correctIndex:0,explanation:"This roadmap focuses on core, project-ready skills."},{question:"Which resource helps most?",options:["Hands-on projects","Horoscopes","TV shows","Comics"],correctIndex:0,explanation:"Hands-on projects help you practice and retain skills."},{question:"Good next step after finishing?",options:["Build a small project","Ignore it","Publish a novel","Travel"],correctIndex:0,explanation:"Building a small project consolidates learning and creates portfolio evidence."}]}}getTopicQuestionsForSkill(t){return this.getTopicQuestions(t)}getTopicQuestions(t){const n=t.toLowerCase(),o=[];n.includes("python")&&o.push({question:"What is the primary use case for Python in data science?",options:["Data analysis and machine learning","Only web development","Only game development","Only mobile apps"],correctIndex:0,explanation:"Python is widely used in data science for data analysis, machine learning, and scientific computing due to libraries like Pandas, NumPy, and scikit-learn."},{question:"Which Python library is most commonly used for data manipulation?",options:["Pandas","Django","Flask","PyGame"],correctIndex:0,explanation:"Pandas is the go-to library for data manipulation and analysis in Python."},{question:"What is a Python list comprehension?",options:["A concise way to create lists","A type of loop","A function","A class"],correctIndex:0,explanation:"List comprehensions provide a concise way to create lists based on existing lists or iterables."},{question:"Which of these is NOT a Python data structure?",options:["Array (in traditional sense)","List","Dictionary","Tuple"],correctIndex:0,explanation:"Python uses lists instead of traditional arrays, though NumPy arrays exist for numerical computing."}),(n.includes("machine learning")||n.includes("ml")||n.includes("deep learning"))&&o.push({question:"What is the difference between supervised and unsupervised learning?",options:["Supervised uses labeled data, unsupervised uses unlabeled data","They are the same","Supervised is faster","Unsupervised requires more data"],correctIndex:0,explanation:"Supervised learning uses labeled training data, while unsupervised learning finds patterns in unlabeled data."},{question:"What is overfitting in machine learning?",options:["Model performs well on training data but poorly on new data","Model is too simple","Model uses too much data","Model is too fast"],correctIndex:0,explanation:"Overfitting occurs when a model learns the training data too well, including noise, and fails to generalize to new data."},{question:"Which algorithm is commonly used for classification tasks?",options:["Random Forest","Only linear regression","Only clustering","Only neural networks"],correctIndex:0,explanation:"Random Forest is a versatile algorithm that works well for both classification and regression tasks."},{question:"What is cross-validation used for?",options:["To assess model performance and prevent overfitting","To speed up training","To reduce data size","To visualize data"],correctIndex:0,explanation:"Cross-validation helps evaluate model performance and detect overfitting by testing on different subsets of data."}),(n.includes("html")||n.includes("css")||n.includes("javascript")||n.includes("react")||n.includes("angular")||n.includes("web"))&&o.push({question:"What does CSS stand for?",options:["Cascading Style Sheets","Computer Style Sheets","Creative Style System","Coded Style Syntax"],correctIndex:0,explanation:"CSS stands for Cascading Style Sheets, used to style HTML elements."},{question:"What is the purpose of JavaScript in web development?",options:["To add interactivity and dynamic behavior to web pages","Only for styling","Only for structure","Only for databases"],correctIndex:0,explanation:"JavaScript is used to add interactivity, handle events, and create dynamic content on web pages."},{question:"What is a React component?",options:["A reusable piece of UI code","A database table","A CSS file","A server endpoint"],correctIndex:0,explanation:"React components are reusable pieces of code that return JSX to render UI elements."},{question:"What is the Document Object Model (DOM)?",options:["A programming interface for HTML and XML documents","A database","A CSS framework","A JavaScript library"],correctIndex:0,explanation:"The DOM is a programming interface that represents the structure of HTML/XML documents as a tree of objects."}),(n.includes("sql")||n.includes("database")||n.includes("nosql"))&&o.push({question:"What does SQL stand for?",options:["Structured Query Language","Simple Query Language","Standard Query Logic","System Query Language"],correctIndex:0,explanation:"SQL stands for Structured Query Language, used to manage and query relational databases."},{question:"What is a primary key in a database?",options:["A unique identifier for each row in a table","A foreign key","A column name","A table name"],correctIndex:0,explanation:"A primary key uniquely identifies each row in a database table and cannot be null."},{question:"What is the difference between SQL and NoSQL databases?",options:["SQL is relational, NoSQL is non-relational","They are identical","SQL is faster","NoSQL is older"],correctIndex:0,explanation:"SQL databases use structured, relational schemas, while NoSQL databases use flexible, non-relational data models."},{question:"What is normalization in database design?",options:["Organizing data to reduce redundancy and improve integrity","Making databases faster","Adding more tables","Removing all indexes"],correctIndex:0,explanation:"Normalization is the process of organizing data in a database to eliminate redundancy and ensure data integrity."}),(n.includes("cloud")||n.includes("aws")||n.includes("azure")||n.includes("docker")||n.includes("kubernetes")||n.includes("devops"))&&o.push({question:"What is Docker used for?",options:["Containerizing applications for consistent deployment","Only for databases","Only for web servers","Only for mobile apps"],correctIndex:0,explanation:"Docker is a platform for containerizing applications, making them portable and consistent across environments."},{question:"What is the main benefit of cloud computing?",options:["Scalability and cost-effectiveness","Only security","Only speed","Only storage"],correctIndex:0,explanation:"Cloud computing provides scalability, cost-effectiveness, and flexibility in resource management."},{question:"What is Kubernetes used for?",options:["Orchestrating containerized applications","Only for databases","Only for web development","Only for machine learning"],correctIndex:0,explanation:"Kubernetes is an orchestration platform for managing containerized applications at scale."},{question:"What is Infrastructure as Code (IaC)?",options:["Managing infrastructure through code and configuration files","Writing code in infrastructure","Building physical servers","Manual server setup"],correctIndex:0,explanation:"IaC allows you to define and manage infrastructure using code, enabling version control and automation."}),(n.includes("security")||n.includes("cyber")||n.includes("penetration")||n.includes("network security"))&&o.push({question:"What is encryption used for?",options:["Protecting data by converting it to unreadable format","Making data faster","Compressing data","Deleting data"],correctIndex:0,explanation:"Encryption converts data into a secure format that can only be read by authorized parties with the decryption key."},{question:"What is a firewall?",options:["A network security device that monitors and controls traffic","A database","A web server","A programming language"],correctIndex:0,explanation:"A firewall is a security device that monitors and filters network traffic based on security rules."},{question:"What is SQL injection?",options:["A security vulnerability where malicious SQL code is inserted","A database feature","A query optimization","A backup method"],correctIndex:0,explanation:"SQL injection is an attack where malicious SQL code is inserted into input fields to manipulate databases."},{question:"What is two-factor authentication (2FA)?",options:["A security method requiring two forms of verification","A single password","A firewall","An encryption method"],correctIndex:0,explanation:"2FA requires users to provide two different authentication factors to verify their identity."}),0===o.length&&o.push({question:`What is the primary purpose of learning ${t}?`,options:["To apply it in real-world projects and solve problems","Only for exams","Only for theory","Only for certificates"],correctIndex:0,explanation:`Learning ${t} should focus on practical application to solve real-world problems and build projects.`},{question:`Which learning method is most effective for ${t}?`,options:["Hands-on practice and building projects","Only reading documentation","Only watching videos","Only taking notes"],correctIndex:0,explanation:"Hands-on practice and building projects help reinforce learning and develop practical skills."},{question:`What is a good next step after learning ${t}?`,options:["Build a project to apply the knowledge","Forget everything","Only read more theory","Stop learning"],correctIndex:0,explanation:"Building projects helps consolidate learning and creates a portfolio of your skills."},{question:`How do you measure proficiency in ${t}?`,options:["By successfully completing projects and solving problems","By reading speed","By number of courses taken","By time spent studying"],correctIndex:0,explanation:"Proficiency is best measured by your ability to apply knowledge in practical projects and solve real problems."});const l=[...o,{question:"What is version control used for?",options:["Tracking changes in code and collaborating","Only for backups","Only for deployment","Only for testing"],correctIndex:0,explanation:"Version control systems like Git help track code changes, collaborate with teams, and manage project history."},{question:"What is the importance of code documentation?",options:["Helps others understand and maintain code","Only for beginners","Only for comments","Not important"],correctIndex:0,explanation:"Good documentation makes code maintainable, helps team collaboration, and explains complex logic."},{question:"What is the difference between frontend and backend development?",options:["Frontend is user interface, backend is server-side logic","They are the same","Frontend is faster","Backend is easier"],correctIndex:0,explanation:"Frontend handles what users see and interact with, while backend handles server logic, databases, and APIs."},{question:"What is an API?",options:["Application Programming Interface - allows applications to communicate","A database","A programming language","A web framework"],correctIndex:0,explanation:"An API (Application Programming Interface) defines how different software components should interact and communicate."},{question:"What is the importance of testing in software development?",options:["Ensures code quality and catches bugs early","Only slows down development","Only for large projects","Not necessary"],correctIndex:0,explanation:"Testing helps ensure code quality, catch bugs early, and maintain reliable software."}];l.forEach(c=>{const b=c.options[c.correctIndex],p=[...c.options];for(let v=p.length-1;v>0;v--){const u=Math.floor(Math.random()*(v+1));[p[v],p[u]]=[p[u],p[v]]}c.correctIndex=p.indexOf(b),c.options=p});for(let c=l.length-1;c>0;c--){const b=Math.floor(Math.random()*(c+1));[l[c],l[b]]=[l[b],l[c]]}return l.slice(0,Math.min(10,Math.max(9,l.length)))}getQuizForRoadmap(t,n){if(!t)return null;if(this.exampleQuizzes[t])return this.exampleQuizzes[t];try{let o=[];if(n)o=n;else try{o=JSON.parse(localStorage.getItem("savedRoadmaps")||"[]")}catch{o=[]}const a=o.find(u=>u.id===t);if(!a)return null;const l=[];for(const u of a.roadmapLevels||[])for(const g of u.skills||[])"string"==typeof g?l.push(g):g&&g.name&&l.push(g.name);const c=Array.from(new Set(l));if(0===c.length){let u=this.getTopicQuestions("General Programming");return u.forEach(g=>{const _=g.options[g.correctIndex],x=[...g.options];for(let y=x.length-1;y>0;y--){const P=Math.floor(Math.random()*(y+1));[x[y],x[P]]=[x[P],x[y]]}g.correctIndex=x.indexOf(_),g.options=x}),{id:t,name:a.name||"Roadmap Quiz",questions:u}}const p=this.getTopicQuestions(c[0]);if(p.length<9&&c.length>1)for(let u=1;u<c.length&&p.length<10;u++){const g=this.getTopicQuestions(c[u]);p.push(...g.slice(0,10-p.length))}let v=p.length>=9?p.slice(0,10):p;return v.forEach(u=>{const g=u.options[u.correctIndex],_=[...u.options];for(let x=_.length-1;x>0;x--){const y=Math.floor(Math.random()*(x+1));[_[x],_[y]]=[_[y],_[x]]}u.correctIndex=_.indexOf(g),u.options=_}),{id:t,name:a.name||"Roadmap Quiz",questions:v}}catch{return null}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=f.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var h=m(8761),k=m(8477),z=m(7473),M=m(7038);const q=(i,r)=>({"answer-correct":i,"answer-wrong":r}),S=(i,r)=>({"correct-answer-bg":i,"wrong-answer-bg":r}),A=(i,r)=>({"text-correct":i,"text-wrong":r}),R=(i,r)=>({correct:i,wrong:r}),F=(i,r)=>({"timer-warning":i,"timer-danger":r});function Q(i,r){if(1&i&&(e.j41(0,"div",27)(1,"strong"),e.EFF(2,"Correct answer:"),e.k0s(),e.j41(3,"span",28),e.EFF(4),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.options[t.correctIndex])}}function T(i,r){if(1&i&&(e.j41(0,"div",29),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.explanation)}}function j(i,r){if(1&i&&(e.j41(0,"div",19)(1,"div",20),e.EFF(2),e.k0s(),e.j41(3,"div",21)(4,"div",22)(5,"strong"),e.EFF(6,"Your answer:"),e.k0s(),e.nrm(7,"span",23),e.j41(8,"span",24),e.EFF(9),e.k0s()(),e.DNE(10,Q,5,1,"div",25),e.k0s(),e.DNE(11,T,2,1,"div",26),e.k0s()),2&i){const t=r.$implicit,n=r.index,o=e.XpG(3);e.Y8G("ngClass",e.l_i(10,q,o.userAnswers[n]===t.correctIndex,o.userAnswers[n]!==t.correctIndex&&o.userAnswers[n]>=0)),e.R7$(2),e.Lme("",n+1,". ",t.question),e.R7$(2),e.Y8G("ngClass",e.l_i(13,S,o.userAnswers[n]===t.correctIndex,o.userAnswers[n]!==t.correctIndex&&o.userAnswers[n]>=0)),e.R7$(3),e.Y8G("innerText",t.options[o.userAnswers[n]]||"No answer")("ngClass",e.l_i(16,A,o.userAnswers[n]===t.correctIndex,o.userAnswers[n]!==t.correctIndex&&o.userAnswers[n]>=0)),e.R7$(),e.Y8G("ngClass",e.l_i(19,R,o.userAnswers[n]===t.correctIndex,o.userAnswers[n]!==t.correctIndex&&o.userAnswers[n]>=0)),e.R7$(),e.SpI(" ",o.userAnswers[n]===t.correctIndex?"\u2714\ufe0f":"\u2716\ufe0f"," "),e.R7$(),e.Y8G("ngIf",o.userAnswers[n]!==t.correctIndex&&o.userAnswers[n]>=0),e.R7$(),e.Y8G("ngIf",t.explanation)}}function E(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"div",10)(2,"div",11)(3,"div")(4,"p",5),e.EFF(5,"Your Score"),e.k0s(),e.j41(6,"div",12),e.EFF(7),e.k0s()(),e.j41(8,"div",13)(9,"p",5),e.EFF(10,"Time Taken"),e.k0s(),e.j41(11,"div",14),e.EFF(12),e.k0s()()(),e.j41(13,"div",15),e.DNE(14,j,12,22,"div",16),e.k0s(),e.j41(15,"div",17)(16,"button",18),e.bIt("click",function(){f.eBV(t);const o=e.XpG(2);return f.Njj(o.back())}),e.EFF(17,"Continue"),e.k0s()()()()}if(2&i){const t=e.XpG(2);e.R7$(7),e.SpI("",t.score,"%"),e.R7$(5),e.JRh(t.formattedTime),e.R7$(2),e.Y8G("ngForOf",t.quiz.questions)}}function N(i,r){if(1&i){const t=e.RV6();e.j41(0,"label",50)(1,"input",51),e.mxI("ngModelChange",function(o){f.eBV(t);const a=e.XpG(4);return e.DH7(a.userAnswers[a.currentIndex],o)||(a.userAnswers[a.currentIndex]=o),f.Njj(o)}),e.k0s(),e.j41(2,"span",52),e.EFF(3),e.k0s()()}if(2&i){const t=r.$implicit,n=r.index,o=e.XpG(4);e.R7$(),e.Y8G("name",e.VkB("q-",o.currentIndex))("value",n),e.R50("ngModel",o.userAnswers[o.currentIndex]),e.R7$(2),e.JRh(t)}}function $(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){const o=f.eBV(t).index,a=e.XpG(4);return f.Njj(a.goToQuestion(o))}),e.EFF(1),e.k0s()}if(2&i){const t=r.index,n=e.XpG(4);e.AVh("active",n.currentIndex===t)("answered",n.isQuestionAnswered(t))("unanswered",!n.isQuestionAnswered(t)),e.Y8G("title","Question "+(t+1)+(n.isQuestionAnswered(t)?" (Answered)":" (Not answered)")),e.R7$(),e.SpI(" ",t+1," ")}}function G(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){f.eBV(t);const o=e.XpG(4);return f.Njj(o.onPrevious())}),e.EFF(1," \u2190 Previous "),e.k0s()}if(2&i){const t=e.XpG(4);e.Y8G("disabled",0===t.currentIndex)}}function L(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){f.eBV(t);const o=e.XpG(4);return f.Njj(o.onNext())}),e.EFF(1," Next Question \u2192 "),e.k0s()}}function Y(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){f.eBV(t);const o=e.XpG(4);return f.Njj(o.viewResults())}),e.EFF(1," View Results "),e.k0s()}}function W(i,r){1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2,"\u26a0\ufe0f"),e.k0s(),e.j41(3,"span",57),e.EFF(4,"You have unanswered questions. Use the question numbers above to review them before submitting."),e.k0s()())}function U(i,r){if(1&i&&(e.j41(0,"div",37)(1,"div",20),e.EFF(2),e.k0s(),e.j41(3,"div",38),e.DNE(4,N,4,5,"label",39),e.k0s(),e.j41(5,"div",40)(6,"div",41)(7,"span",42),e.EFF(8,"Navigate to:"),e.k0s()(),e.j41(9,"div",43),e.DNE(10,$,2,8,"button",44),e.k0s()(),e.j41(11,"div",45),e.DNE(12,G,2,1,"button",46),e.nrm(13,"div",47),e.DNE(14,L,2,0,"button",48)(15,Y,2,0,"button",48),e.k0s(),e.DNE(16,W,5,0,"div",49),e.k0s()),2&i){const t=r.ngIf,n=e.XpG(3);e.R7$(2),e.Lme("",n.currentIndex+1,". ",t.question),e.R7$(2),e.Y8G("ngForOf",t.options),e.R7$(6),e.Y8G("ngForOf",n.quiz.questions),e.R7$(2),e.Y8G("ngIf",n.currentIndex>0),e.R7$(2),e.Y8G("ngIf",n.currentIndex<n.quiz.questions.length-1),e.R7$(),e.Y8G("ngIf",n.currentIndex===n.quiz.questions.length-1),e.R7$(),e.Y8G("ngIf",n.hasUnansweredQuestions()&&n.currentIndex===n.quiz.questions.length-1)}}function J(i,r){if(1&i&&(e.j41(0,"div",9)(1,"div",30)(2,"div",31),e.EFF(3),e.k0s(),e.j41(4,"div",32)(5,"div",33)(6,"span",34),e.EFF(7,"\u23f1\ufe0f"),e.k0s(),e.j41(8,"span",35),e.EFF(9),e.k0s()()()(),e.DNE(10,U,17,8,"div",36),e.k0s()),2&i){const t=e.XpG(2);e.R7$(3),e.Lme("Question ",t.currentIndex+1," of ",t.quiz.questions.length),e.R7$(2),e.Y8G("ngClass",e.l_i(5,F,t.timeRemaining<=10,t.timeRemaining<=5)),e.R7$(4),e.JRh(t.formattedCountdown),e.R7$(),e.Y8G("ngIf",t.quiz.questions[t.currentIndex])}}function D(i,r){if(1&i&&(e.j41(0,"div"),e.DNE(1,E,18,3,"div",8)(2,J,11,8,"div",8),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.showResults),e.R7$(),e.Y8G("ngIf",!t.showResults)}}function X(i,r){1&i&&(e.j41(0,"div",58)(1,"p"),e.EFF(2,"No quiz available for this roadmap."),e.k0s()())}let B=(()=>{class i{route;router;quizService;userStorage;quizProtection;notificationService;loadingService;roadmapId="";quiz=null;userAnswers=[];score=null;attempted=!1;validated=!1;focusedSkill=null;currentIndex=0;showResults=!1;elapsedTime=0;timerInterval=null;formattedTime="00:00";timeLimit=120;timeRemaining=120;countdownInterval=null;formattedCountdown="02:00";isTimeUp=!1;constructor(t,n,o,a,l,c,b){this.route=t,this.router=n,this.quizService=o,this.userStorage=a,this.quizProtection=l,this.notificationService=c,this.loadingService=b}ngOnInit(){this.route.paramMap.subscribe(t=>{const n=t.get("roadmapId")||"";this.roadmapId=n,this.route.queryParams.subscribe(o=>{const a=o.skill;if(this.focusedSkill=a||null,a){const l=this.quizService.getTopicQuestionsForSkill(a);this.quiz={id:`${n}:${a}`,name:`${a} Quiz`,questions:l},this.userAnswers=this.quiz.questions.map(()=>-1),this.score=null,this.attempted=!1,this.startQuiz()}else this.loadQuiz()})})}loadQuiz(){const t=this.userStorage.getSavedRoadmaps();this.quiz=this.quizService.getQuizForRoadmap(this.roadmapId,t),this.quiz&&(this.userAnswers=this.quiz.questions.map(()=>-1),this.score=null,this.attempted=!1,this.startQuiz())}startQuiz(){this.currentIndex=0,this.showResults=!1,this.isTimeUp=!1,this.startTimer(),this.startCountdown();try{this.quizProtection.startProtection(t=>this.handleProtectionViolation(t))}catch{}}startTimer(){this.elapsedTime=0,this.updateFormattedTime(),this.timerInterval=setInterval(()=>{this.elapsedTime++,this.updateFormattedTime()},1e3)}startCountdown(){this.timeRemaining=this.timeLimit,this.updateFormattedCountdown(),this.countdownInterval=setInterval(()=>{this.timeRemaining--,this.updateFormattedCountdown(),this.timeRemaining<=0&&this.handleTimeUp()},1e3)}handleTimeUp(){this.isTimeUp=!0,this.stopCountdown(),this.stopTimer(),this.showResults||this.viewResults()}stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}stopCountdown(){this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null)}updateFormattedTime(){const t=Math.floor(this.elapsedTime/60),n=this.elapsedTime%60;this.formattedTime=`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}updateFormattedCountdown(){const t=Math.floor(this.timeRemaining/60),n=this.timeRemaining%60;this.formattedCountdown=`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}ngOnDestroy(){this.stopTimer(),this.stopCountdown();try{this.quizProtection.stopProtection()}catch{}}handleProtectionViolation(t){this.stopTimer(),this.stopCountdown();try{this.viewResults()}catch{}try{console.log("[QuizPage] Protection violation handler called with reason:",t)}catch{}let n="You left the quiz screen. Quiz ended due to security policy.";"TAB_SWITCH"===t?n="Security Alert: You switched the tab or moved away from the quiz window. According to our quiz security policy, leaving the quiz screen is not allowed. Your quiz has been automatically terminated.":"BACK_BUTTON"===t&&(n="You used the back button. Quiz ended due to security policy.");try{this.notificationService.error(n,1e4)}catch(o){try{console.error("[QuizPage] notification failed",o)}catch{}}try{this.quizProtection.stopProtection()}catch{}}back(){this.showResults?(this.stopTimer(),this.stopCountdown(),this.router.navigate(["/roadmap"],{queryParams:{savedId:this.roadmapId}})):this.handleProtectionViolation("LEAVE_SCREEN")}allAnswered(){return this.userAnswers.every(t=>t>=0)}submit(){if(!this.quiz)return;this.stopTimer(),this.stopCountdown();let t=0;for(let n=0;n<this.quiz.questions.length;n++)Number(this.userAnswers[n])===this.quiz.questions[n].correctIndex&&t++;this.score=Math.round(t/this.quiz.questions.length*100),this.attempted=!0,this.showResults=!0,this.validated=!0,this.userStorage.addQuizAttempt({skill:this.quiz?.name||"unknown",roadmapId:this.roadmapId||null,score:this.score,timeElapsed:this.formattedTime,at:(new Date).toISOString()});try{this.markSkillCompletedInSavedRoadmap()}catch{}}onNext(){this.quiz&&this.currentIndex<this.quiz.questions.length-1&&(this.currentIndex+=1)}onPrevious(){this.currentIndex>0&&this.currentIndex--}goToQuestion(t){this.quiz&&t>=0&&t<this.quiz.questions.length&&(this.currentIndex=t)}isQuestionAnswered(t){return this.userAnswers[t]>=0}hasUnansweredQuestions(){return this.userAnswers.some(t=>t<0)}viewResults(){if(!this.quiz)return;this.stopTimer(),this.stopCountdown();let t=0;for(let n=0;n<this.quiz.questions.length;n++)Number(this.userAnswers[n])===this.quiz.questions[n].correctIndex&&t++;this.score=Math.round(t/this.quiz.questions.length*100),this.attempted=!0,this.showResults=!0,this.validated=!0;try{this.userStorage.addQuizAttempt({skill:this.quiz?.name||"unknown",roadmapId:this.roadmapId||null,score:this.score,timeElapsed:this.formattedTime,at:(new Date).toISOString()})}catch{}try{this.markSkillCompletedInSavedRoadmap()}catch{}}markSkillCompletedInSavedRoadmap(){const t=this.focusedSkill;if(t&&this.roadmapId)try{const n=this.userStorage.getSavedRoadmaps(),o=n.find(l=>l.id===this.roadmapId);if(!o)return;let a=!1;for(const l of o.roadmapLevels||[])for(const c of l.skills||[])"string"!=typeof c&&c.name===t&&(c.completed||(c.completed=!0,a=!0));if(a){let l=0,c=0;for(const b of o.roadmapLevels||[])for(const p of b.skills||[])"string"!=typeof p&&(l++,p.completed&&c++);o.progress=l>0?Math.round(c/l*100):0,o.skillsCompleted=c,this.userStorage.setSavedRoadmaps(n),this.userStorage.setRoadmapSummary({careerTitle:o.name||o.careerTitle||"",progress:o.progress||0,skillsCompleted:o.skillsCompleted||0,estimatedTime:o.estimatedTime||""})}}catch{}}static \u0275fac=function(n){return new(n||i)(e.rXU(s.nX),e.rXU(s.Ix),e.rXU(d),e.rXU(h.c),e.rXU(k.o),e.rXU(z.J),e.rXU(M.U))};static \u0275cmp=e.VBU({type:i,selectors:[["app-quiz-page"]],decls:13,vars:4,consts:[["noQuiz",""],[1,"quiz-page"],[1,"header"],[1,"back-btn",3,"click"],[1,"header-content"],[1,"subtitle"],[1,"content"],[4,"ngIf","ngIfElse"],["class","card quiz-card",4,"ngIf"],[1,"card","quiz-card"],[1,"result-summary"],[1,"score-info"],[1,"score-large"],[1,"time-info"],[1,"time-display"],[1,"result-list",2,"margin-top","16px"],["class","result-item",3,"ngClass",4,"ngFor","ngForOf"],[2,"margin-top","24px","display","flex","justify-content","flex-end"],[1,"btn","primary",3,"click"],[1,"result-item",3,"ngClass"],[1,"q-title"],[1,"result-row"],[1,"user-answer",3,"ngClass"],[1,"answer-text",3,"innerText","ngClass"],[1,"result-icon",3,"ngClass"],["class","correct-answer-show",4,"ngIf"],["class","explain-text",4,"ngIf"],[1,"correct-answer-show"],[1,"correct-answer-text"],[1,"explain-text"],[1,"question-header"],[1,"q-meta"],[1,"timer-container"],[1,"timer-display",3,"ngClass"],[1,"timer-icon"],[1,"timer-text"],["class","question-block",4,"ngIf"],[1,"question-block"],[1,"q-options"],["class","option-label",4,"ngFor","ngForOf"],[1,"question-navigation"],[1,"nav-info"],[1,"nav-text"],[1,"question-numbers"],["class","question-number-btn",3,"active","answered","unanswered","title","click",4,"ngFor","ngForOf"],[1,"quiz-actions"],["class","btn secondary",3,"disabled","click",4,"ngIf"],[1,"action-spacer"],["class","btn primary",3,"click",4,"ngIf"],["class","unanswered-warning",4,"ngIf"],[1,"option-label"],["type","radio",3,"ngModelChange","name","value","ngModel"],[1,"opt-text"],[1,"question-number-btn",3,"click","title"],[1,"btn","secondary",3,"click","disabled"],[1,"unanswered-warning"],[1,"warning-icon"],[1,"warning-text"],[1,"card"]],template:function(n,o){if(1&n){const a=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"button",3),e.bIt("click",function(){return f.eBV(a),f.Njj(o.back())}),e.EFF(3,"\u2190"),e.k0s(),e.j41(4,"div",4)(5,"h1"),e.EFF(6,"Quiz"),e.k0s(),e.j41(7,"div",5),e.EFF(8),e.k0s()()(),e.j41(9,"div",6),e.DNE(10,D,3,2,"div",7)(11,X,3,0,"ng-template",null,0,e.C5r),e.k0s()()}if(2&n){const a=e.sdS(12);e.R7$(8),e.Lme("",(null==o.quiz?null:o.quiz.name)||"Quiz"," \u2014 Roadmap: ",o.roadmapId),e.R7$(2),e.Y8G("ngIf",o.quiz)("ngIfElse",a)}},dependencies:[C.bT,C.Sq,C.YU,w.YN,w.me,w.Fm,w.BC,w.vS],styles:[".quiz-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#071b2e,#0e2a47);color:#fff;font-family:Poppins,sans-serif;padding:40px}.header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:20px;margin-bottom:30px}.back-btn[_ngcontent-%COMP%]{background:transparent;border:2px solid white;border-radius:8px;color:#fff;font-size:24px;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;flex-shrink:0}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin-bottom:8px}.subtitle[_ngcontent-%COMP%]{font-size:16px;color:#a9b7c9}.content[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;display:flex;flex-direction:column;gap:24px}.card[_ngcontent-%COMP%]{background:#0f2138;border-radius:18px;padding:32px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid #162E4A;transition:all .3s cubic-bezier(.4,0,.2,1)}@media(hover:hover)and (pointer:fine){.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #2e6bff40;border:3px solid rgba(46,107,255,.6)}}.quiz-card[_ngcontent-%COMP%]{padding:32px}.completion-card[_ngcontent-%COMP%]{background:#0f2138;color:#fff;border-radius:14px;padding:22px;box-shadow:0 6px 18px #00000080;border:1px solid #162E4A}.completion-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.success-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:#e6f6ea;color:#2e8c3a;display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:0 4px 10px #0000000a}.completion-title[_ngcontent-%COMP%]{font-size:20px;font-weight:800}.completion-body[_ngcontent-%COMP%]{margin-top:14px;display:flex;flex-direction:column;gap:10px}.completion-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-weight:700;color:#fff}.completion-check[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#4caf50}.validation-msg[_ngcontent-%COMP%]{font-size:14px;color:#ffffffe6;opacity:.9}.completion-actions[_ngcontent-%COMP%]{margin-top:14px}.completion-actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{background:#2e6bff;color:#fff;border:none;padding:14px 28px;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;gap:10px;font-family:Poppins,sans-serif;box-shadow:0 4px 12px #2e6bff59;white-space:nowrap}.completion-actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]:hover{background:#2558d8;box-shadow:0 6px 18px #2e6bff73;transform:translateY(-2px)}.completion-actions[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #2e6bff4d}.result-summary[_ngcontent-%COMP%]{color:#eaf2ff}.q-title[_ngcontent-%COMP%]{font-weight:800;margin-bottom:12px;color:#eaf2ff;font-size:18px}.q-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.option-label[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;color:#eaf2ff;font-size:15px;padding:10px;border-radius:10px;background:linear-gradient(180deg,#ffffff05,#ffffff03);border:1px solid rgba(255,255,255,.03);transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}@media(hover:hover)and (pointer:fine){.option-label[_ngcontent-%COMP%]:hover{background:linear-gradient(180deg,#2e6bff1a,#2e6bff0d);border:2px solid rgba(46,107,255,.4);transform:translateY(-2px);box-shadow:0 4px 12px #2e6bff33}}.opt-text[_ngcontent-%COMP%]{font-size:15px}.quiz-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-top:20px;justify-content:space-between}.action-spacer[_ngcontent-%COMP%]{flex:1}.quiz-result[_ngcontent-%COMP%]{font-weight:700;color:#d6f6e0}.btn.primary[_ngcontent-%COMP%]{background:#2e6bff;color:#fff;padding:14px 28px;border-radius:10px;border:none;cursor:pointer;font-weight:600;font-size:16px;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;gap:10px;font-family:Poppins,sans-serif;box-shadow:0 4px 12px #2e6bff59;white-space:nowrap}.btn.primary[_ngcontent-%COMP%]:hover{background:#2558d8;box-shadow:0 6px 18px #2e6bff73;transform:translateY(-2px)}.btn.primary[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #2e6bff4d}.btn.secondary[_ngcontent-%COMP%]{background:transparent;border:2px solid rgba(255,255,255,.14);color:#fff;padding:10px 20px;border-radius:10px;cursor:pointer;font-weight:600;display:inline-flex;align-items:center;gap:8px;font-size:14px;transition:all .3s ease}.btn.secondary[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:#ffffff4d;transform:translateY(-1px)}.btn.secondary[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.question-navigation[_ngcontent-%COMP%]{margin-top:24px;padding:16px;background:#ffffff08;border-radius:12px;border:1px solid rgba(255,255,255,.1)}.nav-info[_ngcontent-%COMP%]{margin-bottom:12px}.nav-text[_ngcontent-%COMP%]{font-size:13px;color:#a9b7c9;font-weight:600}.question-numbers[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.question-number-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:2px solid rgba(255,255,255,.2);background:#ffffff0d;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.question-number-btn[_ngcontent-%COMP%]:hover{background:#2e6bff33;border-color:#2e6bff66;transform:translateY(-2px)}.question-number-btn.active[_ngcontent-%COMP%]{background:#2e6bff;border-color:#2e6bff;box-shadow:0 0 12px #2e6bff80}.question-number-btn.answered[_ngcontent-%COMP%]{background:#39d35333;border-color:#39d35366}.question-number-btn.answered.active[_ngcontent-%COMP%]{background:#39d353;border-color:#39d353}.question-number-btn.unanswered[_ngcontent-%COMP%]{border-color:#ffffff1a;opacity:.7}.unanswered-warning[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;background:#ffc1071a;border:1px solid rgba(255,193,7,.3);border-radius:8px;display:flex;align-items:center;gap:10px}.warning-icon[_ngcontent-%COMP%]{font-size:18px}.warning-text[_ngcontent-%COMP%]{font-size:13px;color:#ffc107;font-weight:500}@media(max-width:768px){.quiz-page[_ngcontent-%COMP%]{padding:20px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.content[_ngcontent-%COMP%]{max-width:100%}.question-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.timer-display[_ngcontent-%COMP%]{align-self:flex-end}.score-info[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.time-info[_ngcontent-%COMP%]{text-align:left}}.feedback-icon[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;display:inline-flex;align-items:center}.feedback-icon[_ngcontent-%COMP%]   .tick[_ngcontent-%COMP%]{color:#4caf50}.feedback-icon[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{color:#f44336}.correct-explanation[_ngcontent-%COMP%]{margin-top:10px;background:#ffffff0a;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.03);color:#e6eefc;font-size:14px}.correct-explanation[_ngcontent-%COMP%]   .explain-text[_ngcontent-%COMP%]{margin-top:6px;opacity:.95}.question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px}.q-meta[_ngcontent-%COMP%]{opacity:.9;font-weight:700}.timer-container[_ngcontent-%COMP%]{display:flex;align-items:center}.timer-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#ffffff1a;border-radius:8px;border:1px solid rgba(255,255,255,.2);transition:all .3s ease}.timer-display.timer-warning[_ngcontent-%COMP%]{background:#ffc10733;border-color:#ffc10766;animation:_ngcontent-%COMP%_pulse-warning 1s infinite}.timer-display.timer-danger[_ngcontent-%COMP%]{background:#f4433633;border-color:#f4433666;animation:_ngcontent-%COMP%_pulse-danger .5s infinite}@keyframes _ngcontent-%COMP%_pulse-warning{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_pulse-danger{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.timer-icon[_ngcontent-%COMP%]{font-size:18px}.timer-text[_ngcontent-%COMP%]{font-size:16px;font-weight:700;font-family:Courier New,monospace;color:#fff;min-width:50px}.timer-warning[_ngcontent-%COMP%]   .timer-text[_ngcontent-%COMP%]{color:#ffc107}.timer-danger[_ngcontent-%COMP%]   .timer-text[_ngcontent-%COMP%]{color:#f44336}.time-up-msg[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.question-block[_ngcontent-%COMP%]{margin-top:12px}.score-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:40px;margin-bottom:20px}.score-large[_ngcontent-%COMP%]{font-size:48px;font-weight:900;color:#d6f6e0;margin-top:8px}.time-info[_ngcontent-%COMP%]{text-align:right}.time-display[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#4caf50;font-family:Courier New,monospace;margin-top:8px}.unanswered[_ngcontent-%COMP%]{color:#f44336;font-weight:700;margin-top:8px}input[type=radio][disabled][_ngcontent-%COMP%] + .opt-text[_ngcontent-%COMP%]{opacity:.7}.result-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.result-item[_ngcontent-%COMP%]{padding:16px;background:#ffffff05;border-radius:10px;border:1px solid rgba(255,255,255,.03);transition:all .3s ease}.result-item.answer-correct[_ngcontent-%COMP%]{background:#4caf5026;border:1px solid rgba(76,175,80,.3)}.result-item.answer-wrong[_ngcontent-%COMP%]{background:#f4433626;border:1px solid rgba(244,67,54,.3)}.result-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-top:8px}.result-icon.correct[_ngcontent-%COMP%]{color:#4caf50;margin-left:8px;font-size:18px}.result-icon.wrong[_ngcontent-%COMP%]{color:#f44336;margin-left:8px;font-size:18px}.user-answer[_ngcontent-%COMP%]{padding:10px 12px;border-radius:8px;display:flex;align-items:center;gap:8px}.user-answer.correct-answer-bg[_ngcontent-%COMP%]{background:#4caf5033;border:1px solid rgba(76,175,80,.4)}.user-answer.wrong-answer-bg[_ngcontent-%COMP%]{background:#f4433633;border:1px solid rgba(244,67,54,.4)}.answer-text[_ngcontent-%COMP%]{margin-left:8px;flex:1}.answer-text.text-correct[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.answer-text.text-wrong[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.correct-answer-show[_ngcontent-%COMP%]{margin-top:8px;padding:10px 12px;background:#4caf501a;border-radius:8px;border-left:3px solid #4caf50}.correct-answer-text[_ngcontent-%COMP%]{color:#4caf50;font-weight:600;margin-left:8px}"]})}return i})()},8761(I,O,m){m.d(O,{c:()=>w});var C=m(375);let w=(()=>{class e{getUserId(){try{const s=localStorage.getItem("currentUser");if(s)return JSON.parse(s)?.email||null}catch(s){console.error("Error getting user ID",s)}return null}getUserKey(s){const d=this.getUserId();return d?`${encodeURIComponent(d)}_${s}`:s}getItem(s){const d=this.getUserKey(s);return localStorage.getItem(d)}setItem(s,d){const h=this.getUserKey(s);try{localStorage.setItem(h,d)}catch(k){console.error(`Error setting ${s}`,k)}}removeItem(s){const d=this.getUserKey(s);try{localStorage.removeItem(d)}catch(h){console.error(`Error removing ${s}`,h)}}getJSON(s,d){try{const h=this.getItem(s);return null===h?d:JSON.parse(h)}catch(h){return console.error(`Error parsing JSON for ${s}`,h),d}}setJSON(s,d){try{this.setItem(s,JSON.stringify(d))}catch(h){console.error(`Error stringifying JSON for ${s}`,h)}}getSavedRoadmaps(){return this.getJSON("savedRoadmaps",[])}setSavedRoadmaps(s){this.setJSON("savedRoadmaps",s)}getActiveRoadmapId(){return this.getItem("activeRoadmapId")}setActiveRoadmapId(s){s?this.setItem("activeRoadmapId",s):this.removeItem("activeRoadmapId")}getRoadmapSummary(){return this.getJSON("roadmapSummary",null)}setRoadmapSummary(s){this.setJSON("roadmapSummary",s)}getCompletionEvents(){return this.getJSON("completionEvents",[])}addCompletionEvent(s){const d=this.getCompletionEvents();d.push(s),this.setJSON("completionEvents",d)}getQuizAttempts(){return this.getJSON("quizAttempts",[])}addQuizAttempt(s){const d=this.getQuizAttempts();d.push(s),this.setJSON("quizAttempts",d)}getBadges(){return this.getJSON("badges",[])}setBadges(s){this.setJSON("badges",s)}getUserSkills(){return this.getJSON("userSkills",[])}setUserSkills(s){this.setJSON("userSkills",s)}getUserInterests(){return this.getJSON("userInterests",[])}setUserInterests(s){this.setJSON("userInterests",s)}getDailyGoals(){return this.getJSON("dailyGoals",[])}setDailyGoals(s){this.setJSON("dailyGoals",s)}static \u0275fac=function(d){return new(d||e)};static \u0275prov=C.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);